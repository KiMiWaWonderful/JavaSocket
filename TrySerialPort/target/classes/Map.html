<!DOCTYPE html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <style type="text/css">
        body, html,#allmap {width: 100%;height: 100%;overflow: hidden;margin:0;font-family:"微软雅黑";}
        #allmap {width: 100%; height:500px; overflow: hidden;}
        #result {width:100%;font-size:12px;}
        dl,dt,dd,ul,li{
            margin:0;
            padding:0;
            list-style:none;
        }
        p{font-size:12px;}
        dt{
            font-size:14px;
            font-family:"微软雅黑";
            font-weight:bold;
            border-bottom:1px dotted #000;
            padding:5px 0 5px 5px;
            margin:5px 0;
        }
        dd{
            padding:5px 0 0 5px;
        }
        li{
            line-height:28px;
        }
    </style>
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=qVixkQ96uQ7eQ2WpRYzGeaV4LfOqByaw"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.0/jquery.js"></script>
    <!-- CSS dependencies -->
    <!--<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" type="text/css">-->
    <!--<link rel="stylesheet" href="wireframe.css">-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <!-- <script   src="https://code.jquery.com/jquery-1.12.4.js"   integrity="sha256-Qw82+bXyGq6MydymqBxNPYTaUXXq7c8v3CwiYwLLNXU="   crossorigin="anonymous"></script>-->
    <title>单击获取点击的经纬度</title>
</head>
<body>
<nav class="nav nav-pills">
    <div class="container">
        <!--<a class="navbar-brand" href="#"><i class="fa d-inline fa-lg fa-bullseye"></i></a>-->
        <!--<button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbar2SupportedContent" aria-controls="navbar2SupportedContent" aria-expanded="false" aria-label="Toggle navigation">-->
            <!--<span class="navbar-toggler-icon"></span> </button>-->
        <div >
            <ul >
                <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                    Dropdown
                    <span class="caret"></span>
                </button>
                <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
                    <li><a href="#">Action</a></li>
                    <li><a href="#">Another action</a></li>
                    <li><a href="#">Something else here</a></li>
                    <li role="separator" class="divider"></li>
                    <li><a href="#">Separated link</a></li>
                </ul>

                <!--<li role="presentation" class="active">-->
                    <!--<button class="btn btn-default btn-sm dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">-->
                        <!--Small button <span class="caret"></span>-->
                    <!--</button>-->
                    <!--<ul class="dropdown-menu">-->
                      <!--<li><button>ss</button></li>-->
                        <!--<li><button>ss</button></li>-->
                    <!--</ul>-->

                <!--</li>-->
                <!--<li role="presentation"><a href="#">Profile</a></li>-->
                <!--<li role="presentation"><a href="#">Messages</a></li>-->

                <!--<li >-->
                    <!--&lt;!&ndash;<a  href="#">手动刷新</a>&ndash;&gt;-->
                    <!--<button id="getCurrentPosition" onclick="changeMarkerPosition()">刷新</button>-->
                <!--</li>-->
                <!--<li >-->
                    <!--&lt;!&ndash;<a >自动刷新</a>&ndash;&gt;-->
                    <!--<button id="getTCurrentPosition" onclick="changeMarkerPosition()">刷新</button>-->
                <!--</li>-->
                <!--<li class="nav-item">-->
                    <!--<select class="refreshChoice" name="refreshChoice"> &lt;!&ndash;别把class写成calss了ヽ(●-`Д´-)ノ&ndash;&gt;-->
                        <!--<option  selected="selected" id="manual" value="手动刷新"  >手动刷新</option> &lt;!&ndash;设置手动刷新为默认选项，但是在火狐上好像有bug&ndash;&gt;-->
                        <!--<option id="auto" value="自动刷新" >自动刷新</option>-->
                    <!--</select>-->
                <!--</li>-->
                <!--<li class="nav-item">-->
                    <!--<div id="manualDiv" class="manualDiv">-->
                        <!--<button id="getCurrentPosition" onclick="changeMarkerPosition()">刷新</button>-->
                    <!--</div>-->
                <!--</li>-->
                <!--<li class="nav-item">-->
                    <!--<a class="nav-link mx-2" href="#">Link</a>-->
                <!--</li>-->
                <!--<li class="nav-item">-->
                    <!--<a class="nav-link mx-2" href="#">Link</a>-->
                <!--</li>-->
            </ul>
            <!--<form class="form-inline my-2 my-lg-0">-->
                <!--<input class="form-control" type="text" >-->
                <!--<button class="btn btn-link my-2 my-sm-0" type="submit"><i class="fa d-inline fa-lg fa-search text-primary"></i></button>-->
            <!--</form>-->
        </div>
    </div>
</nav>
<p>


<!--<form class="form-inline my-2 my-lg-0">-->
    <!--<input class="form-control" type="text" >-->
    <!--<button class="btn btn-link my-2 my-sm-0" type="submit"><i class="fa d-inline fa-lg fa-search text-primary"></i></button>-->
<!--</form>-->
</p>
<div id="allmap"></div>
</body>
</html>
<script type="text/javascript">
    // 百度地图API功能
    var map = new BMap.Map("allmap");
    map.centerAndZoom("重庆",12);
    //单击获取点击的经纬度
    map.addEventListener("click",function(e){

        //将这两点发送到后台
        alert(e.point.lng + "," + e.point.lat);

        var longg = e.point.lng;
        var latii = e.point.lat;

        $.ajax({
            url:'http://localhost:8080/point/addPoint',
            type:'POST',
            data:{'lng': e.point.lng, 'lat': e.point.lat},
            //data:JSON.stringify({ longitude: e.point.lng, latitude: e.point.lat }),
            dataType: 'json',
            //contentType: 'application/x-www-form-urlencoded',
            success:function (data) {
                //console.log(data);
                alert(data);
            }
            // error:function () {
            //     alert("error");
            // }
        });
    });
</script>
